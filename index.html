<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Team Viewer</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #1e1e1e;
      color: white;
      padding: 40px;
    }
    #container {
      max-width: 500px;
      margin: auto;
      background: #2a2a2a;
      padding: 20px;
      border-radius: 10px;
    }
    input {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 6px;
      border: none;
      font-size: 16px;
    }
    button {
      margin-top: 15px;
      width: 100%;
      padding: 10px;
      background: #4caf50;
      border: none;
      border-radius: 6px;
      color: white;
      font-size: 18px;
      cursor: pointer;
    }
    #output {
      margin-top: 20px;
      padding: 15px;
      background: #333;
      border-radius: 8px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>

<div id="container">
  <h1>Team Viewer</h1>
  <p>Enter a team code to view its data.</p>

  <input id="teamCodeInput" placeholder="Team code">
  <button id="viewTeamBtn">View Team</button>


  <div id="output"></div>
</div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js"></script>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDVId5l4TinAp06bZA8gId1kZ88ittf8c0",
    authDomain: "splitstorm1.firebaseapp.com",
    projectId: "splitstorm1",
    storageBucket: "splitstorm1.firebasestorage.app",
    messagingSenderId: "1020688870854",
    appId: "1:1020688870854:web:123fef34436238b9b056c7",
    measurementId: "G-VKB2V4KZ12"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const button = document.getElementById("viewTeamBtn");
  const output = document.getElementById("output");

  button.addEventListener("click", async () => {
      const code = document.getElementById("teamCodeInput").value.trim();

      if (!code) {
        output.innerText = "Please enter a team code.";
        return;
      }

      output.innerText = "Loading...";

      try {
        const ref = doc(db, "teams", code);
        const snap = await getDoc(ref);

        if (!snap.exists()) {
          output.innerText = "Team not found.";
          return;
        }

        output.innerText = JSON.stringify(snap.data(), null, 2);
      } catch (e) {
        output.innerText = "Error loading team: " + e.message;
      }
    });
</script>




</body>
</html>
